<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<meta name="description" content="Qdrant-compatible vector search API on YDB. Single-phase top-k using automatic YDB vector index with table-scan fallback. Self-hosted or hosted demo endpoint for IDEs.">
<meta name="robots" content="index, follow">
<meta name="author" content="ydb-qdrant">
<meta name="theme-color" content="#0b0f14">
<meta property="og:title" content="Qdrant API on YDB">
<meta property="og:description" content="Qdrant-compatible vector search on YDB: single-phase top-k with automatic vector index; table-scan fallback.">
<meta property="og:type" content="website">
<meta property="og:image" content="/assets/preview.png">
<meta property="og:image:width" content="1024">
<meta property="og:image:height" content="1024">
<meta property="og:image:type" content="image/png">
<meta property="og:site_name" content="Qdrant API on YDB">
<meta property="og:image:alt" content="IDE agent configured with YDB Qdrant-compatible URL">
<meta property="og:locale" content="en_US">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Qdrant API on YDB">
<meta name="twitter:description" content="Qdrant-compatible vector search on YDB: single-phase top-k with automatic vector index; table-scan fallback.">
<meta name="twitter:image" content="/assets/preview.png">
<title>Qdrant API on YDB</title>
<style>
  :root{--bg:#0b0f14;--fg:#e6edf3;--muted:#9da7b3;--acc:#00e5a8}
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial}
  a{color:var(--acc);text-decoration:none}
  .wrap{max-width:920px;margin:0 auto;padding:48px 20px}
  h1{font-size:32px;margin:0 0 12px}
  .lead{color:var(--muted);margin:0 0 24px}
  pre{background:#11161d;border:1px solid #19212b;border-radius:8px;padding:12px;overflow:auto}
  code{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}
  .grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));margin-top:24px}
  .card{border:1px solid #19212b;border-radius:8px;padding:16px;background:#0d131a}
  .card-standalone{margin-top:24px}
  .muted{color:var(--muted)}
  .lang{position:fixed;top:12px;left:12px;color:var(--muted);font-size:14px}
  .lang a{color:var(--acc);margin:0 4px}
  .gh-icon{position:fixed;top:12px;right:12px;width:32px;height:32px;border:1px solid #19212b;border-radius:50%;background:#0d131a;display:grid;place-items:center}
  .gh-icon svg{width:18px;height:18px;fill:var(--fg)}
  details{margin:12px 0}
  details summary{cursor:pointer;color:var(--acc)}
  details[open] summary{color:var(--fg)}
  .hero{margin-bottom:40px}
  .hero-demo{margin-top:4px;font-size:14px;display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:999px;border:1px solid var(--acc);background:#0d131a;color:var(--acc)}
  .copy-btn{font-size:12px;padding:4px 10px;border-radius:999px;border:1px solid var(--acc);background:transparent;color:var(--acc);cursor:pointer;flex-shrink:0}
  .hero-footnote{margin-top:4px;font-size:14px}
  .section{margin-top:40px}
  .section-title{font-size:20px;margin:0 0 12px}
  .hero-actions{display:flex;flex-wrap:wrap;gap:12px;margin:16px 0 12px}
  .btn-primary,.btn-secondary{display:inline-block;padding:10px 18px;border-radius:999px;font-weight:600;font-size:14px}
  .btn-primary{background:var(--acc);color:#041013}
  .btn-secondary{border:1px solid var(--acc);color:var(--acc)}
</style>
</head>
<body>
  <div class="lang"><a href="/ru/">Русский</a> | <a href="/en/">English</a></div>
  <a id="gh-repo-icon" class="gh-icon" href="https://github.com/astandrik/ydb-qdrant" aria-label="GitHub repository" target="_blank" rel="noopener">
    <svg viewBox="0 0 16 16" role="img" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38C13.71 14.53 16 10.54 16 7c0-4.42-3.58-8-8-8z"></path></svg>
  </a>
  <main class="wrap">
    <section class="hero">
      <h1><img src="/logo.svg" alt="YDB Qdrant logo" width="32" height="32" style="vertical-align:middle;margin-right:8px"> Qdrant API on YDB</h1>
      <p class="lead">Run a minimal Qdrant‑compatible REST API that stores and searches vectors directly in YDB — no separate vector database cluster.</p>
      <div class="hero-actions">
        <a id="hero-ide-btn" class="btn-primary" href="#ide-config">Use hosted endpoint in IDE</a>
        <a id="hero-gh-btn" class="btn-secondary" href="https://github.com/astandrik/ydb-qdrant" target="_blank" rel="noopener">View on GitHub</a>
        <a id="hero-docs-link" class="muted" href="/docs/">Architecture &amp; diagrams →</a>
      </div>
      <p class="hero-demo">Public demo Qdrant base URL: <code>http://ydb-qdrant.tech:8080</code><button type="button" class="copy-btn" data-copy-demo-url="http://ydb-qdrant.tech:8080">Copy</button></p>
      <p class="hero-footnote muted">Ideal as a drop‑in Qdrant base URL for IDE agents (Roo Code, Cline) and RAG services on YDB.</p>
    </section>

    <section class="section">
      <h2 class="section-title">Why YDB‑Qdrant</h2>
      <div class="grid">
        <div class="card">
          <strong>Transactional &amp; consistent</strong>
          <p class="muted">Built on YDB’s distributed ACID transactions with Serializable isolation, so vectors live next to your source‑of‑truth data.</p>
        </div>
        <div class="card">
          <strong>Single data platform</strong>
          <p class="muted">Store business rows, events, and vector embeddings together in YDB and query everything with one YQL engine.</p>
        </div>
        <div class="card">
          <strong>Reliability &amp; operations</strong>
          <p class="muted">Reuse YDB’s multi‑AZ setups, backup/restore, and disaster recovery instead of operating a separate Qdrant cluster.</p>
        </div>
        <div class="card">
          <strong>Secure tenancy path</strong>
          <p class="muted">Per‑tenant isolation via <code>X-Tenant-Id</code> header today, with a clear path to IAM/OAuth‑based tenancy in internal deployments.</p>
        </div>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">Where it fits best</h2>
      <div class="grid">
        <div class="card">
          <strong>Great for</strong>
          <ul class="muted">
            <li>Prototyping and experiments with vector search on YDB.</li>
            <li>Datasets roughly up to 10K–50K vectors per collection.</li>
            <li>IDE agents (Roo Code, Cline) expecting a Qdrant API.</li>
            <li>Apps that already use YDB and need a quick vector API.</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">Plans</h2>
      <div class="grid">
        <div class="card">
          <strong>Roadmap</strong>
          <ul class="muted">
            <li>Hardening for production workloads with strict SLAs and strong multi‑tenant auth/z (IAM/OAuth, per‑collection ACLs).</li>
            <li>Quotas and rate limiting per tenant (collections, RPS, payload and batch sizes) plus richer audit logging.</li>
            <li>Support for larger collections (&gt;100K vectors) and frequent bulk upserts via batch‑upsert and index tuning.</li>
            <li>Better support for high‑throughput, multi‑million‑vector search with tighter latency through scaling patterns.</li>
            <li>Extending Qdrant API coverage on YDB (filters, facets, recommend/discover, batch search and other advanced modes).</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">Getting started</h2>

      <details id="ide-config">
        <summary>Configure in Roo Code/Kilo Code</summary>
        <figure style="margin:16px 0">
          <img src="/assets/2025-10-25_16-35-47.png" alt="IDE agent configuration screenshot" style="width:100%;max-width:640px;height:auto;border:1px solid #19212b;border-radius:8px;display:block;margin:0 auto">
        </figure>
        <p class="muted">Public demo Qdrant base URL for IDEs: <code>http://ydb-qdrant.tech:8080</code> (paste into your IDE/agent as the Qdrant base URL).</p>
      </details>

      <details id="ide-config-diagram">
        <summary>How it works under the hood</summary>
        <figure style="margin:16px 0">
          <img src="/assets/diagram.svg" alt="Request flow: IDE/Agent → ydb-qdrant (Node.js) → YDB vectors + index" style="width:100%;max-width:960px;height:auto;border:1px solid #19212b;border-radius:8px;display:block;margin:0 auto">
        </figure>
      </details>

      <div class="grid">
        <div class="card">
          <strong>Options</strong>
          <ul class="muted">
            <li>Self‑host: http://localhost:8080/</li>
            <li>Hosted demo endpoint for IDEs: <a href="http://ydb-qdrant.tech:8080/" target="_blank" rel="noopener">http://ydb-qdrant.tech:8080/</a> (copy into IDE/agent as Qdrant base URL)</li>
          </ul>
        </div>

        <div class="card">
          <strong>Docs</strong>
          <ul class="muted">
            <li><a href="/docs/">Service diagrams (C4 + ER)</a></li>
            <li><a href="https://ydb.tech/docs/en/" target="_blank" rel="noopener">YDB docs (overview)</a></li>
            <li><a href="https://ydb.tech/docs/en/yql/reference/" target="_blank" rel="noopener">YQL reference</a></li>
            <li><a href="https://ydb.tech/docs/en/concepts/vector_search" target="_blank" rel="noopener">Vector search (approximate)</a></li>
            <li><a href="https://cloud.yandex.com/en/docs/ydb/" target="_blank" rel="noopener">YDB Cloud docs</a></li>
          </ul>
        </div>
      </div>

      <div class="card card-standalone">
        <strong>Configure self‑hosted</strong>
        <ol class="muted">
          <li>Clone and install: <code>npm install</code></li>
          <li>Set env: <code>YDB_ENDPOINT</code>, <code>YDB_DATABASE</code></li>
          <li>Auth via env: <code>YDB_SERVICE_ACCOUNT_KEY_FILE_CREDENTIALS</code> | <code>YDB_METADATA_CREDENTIALS</code> | <code>YDB_ACCESS_TOKEN_CREDENTIALS</code> | <code>YDB_ANONYMOUS_CREDENTIALS</code></li>
          <li>Run: <code>npm run dev</code> (dev) or <code>npm start</code> (prod)</li>
          <li>Point client to <code>http://localhost:8080</code></li>
        </ol>
        <p class="muted">Details: <a href="https://github.com/astandrik/ydb-qdrant" target="_blank" rel="noopener">GitHub README</a></p>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">API at a glance</h2>

      <div class="grid">
        <div class="card">
          <strong>Purpose</strong>
          <p class="muted">Use as a Qdrant base URL for IDE agents or apps; vectors persist in YDB.</p>
        </div>
        <div class="card">
          <strong>Key features</strong>
          <ul class="muted">
            <li>Qdrant‑compatible endpoints</li>
            <li>Single‑phase top‑k using YDB vector index (auto‑built); table‑scan fallback</li>
            <li>Per‑tenant isolation</li>
            <li>Self‑host or demo</li>
          </ul>
        </div>
      </div>

      <pre><code>curl -X PUT http://localhost:8080/collections/mycol \
  -H 'Content-Type: application/json' \
  -d '{"vectors":{"size":384,"distance":"Cosine","data_type":"float"}}'

curl -X POST http://localhost:8080/collections/mycol/points/upsert \
  -H 'Content-Type: application/json' \
  -d '{"points":[{"id":"1","vector":[0.1,0.2,...384 vals...]}]}'

curl -X POST http://localhost:8080/collections/mycol/points/search \
  -H 'Content-Type: application/json' \
  -d '{"vector":[0.1,0.2,...],"limit":5,"with_payload":true}'</code></pre>

      <p class="muted">Health: GET /health → {"status":"ok"}</p>
    </section>

  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=104844437', 'ym');

    ym(104844437, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/104844437" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
  <!-- /Yandex.Metrika counter -->

  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
      var repoIcon = document.getElementById('gh-repo-icon');
      if (repoIcon) {
        repoIcon.addEventListener('click', function() {
          try { ym(104844437, 'reachGoal', 'repo_click', {target: 'icon'}); } catch (e) {}
        });
      }

      var heroBtn = document.getElementById('hero-ide-btn');
      var heroGhBtn = document.getElementById('hero-gh-btn');
      var heroDocsLink = document.getElementById('hero-docs-link');
      var ideConfig = document.getElementById('ide-config');
      var ideDetails = document.getElementById('ide-config');
      var copyButtons = document.querySelectorAll('[data-copy-demo-url]');

      if (ideConfig) {
        ideConfig.addEventListener('toggle', function() {
          if (ideConfig.open) {
            try { ym(104844437, 'reachGoal', 'instructions_open'); } catch (e) {}
          }
        });
      }

      function openIdeDetails(scrollSmooth) {
        if (!ideDetails) return;
        ideDetails.open = true;
        try {
          ideDetails.scrollIntoView({behavior: scrollSmooth ? 'smooth' : 'auto', block: 'start'});
        } catch (e) {
          ideDetails.scrollIntoView();
        }
      }

      if (heroBtn && ideDetails) {
        heroBtn.addEventListener('click', function(e) {
          e.preventDefault();
          openIdeDetails(true);
          try { ym(104844437, 'reachGoal', 'hero_ide_click'); } catch (err) {}
          if (history && history.replaceState) {
            history.replaceState(null, '', '#ide-config');
          }
        });
      }

      if (heroGhBtn) {
        heroGhBtn.addEventListener('click', function() {
          try { ym(104844437, 'reachGoal', 'hero_gh_click'); } catch (err) {}
        });
      }

      if (heroDocsLink) {
        heroDocsLink.addEventListener('click', function() {
          try { ym(104844437, 'reachGoal', 'hero_docs_click'); } catch (err) {}
        });
      }

      if (copyButtons && copyButtons.length) {
        copyButtons.forEach(function(btn) {
          btn.addEventListener('click', function() {
            var url = btn.getAttribute('data-copy-demo-url');
            if (!url) return;

            function trackCopy(success) {
              try { ym(104844437, 'reachGoal', 'demo_url_copy', {page: 'root', area: 'hero', success: !!success}); } catch (e) {}
            }

            function showFeedback() {
              var originalText = btn.textContent;
              btn.textContent = 'Copied!';
              btn.style.background = 'var(--acc)';
              btn.style.color = '#041013';
              setTimeout(function() {
                btn.textContent = originalText;
                btn.style.background = 'transparent';
                btn.style.color = 'var(--acc)';
              }, 2000);
            }

            if (navigator.clipboard && navigator.clipboard.writeText) {
              navigator.clipboard.writeText(url).then(function() {
                trackCopy(true);
                showFeedback();
              }).catch(function() {
                fallbackCopy(url);
              });
            } else {
              fallbackCopy(url);
            }

            function fallbackCopy(text) {
              try {
                var ta = document.createElement('textarea');
                ta.value = text;
                ta.style.position = 'fixed';
                ta.style.opacity = '0';
                document.body.appendChild(ta);
                ta.focus();
                ta.select();
                var ok = document.execCommand('copy');
                document.body.removeChild(ta);
                trackCopy(ok);
                if (ok) showFeedback();
              } catch (e) {
                trackCopy(false);
              }
            }
          });
        });
      }

      if (location.hash === '#ide-config') {
        openIdeDetails(false);
      }
    });
  </script>

  </main>
</body>
</html>
